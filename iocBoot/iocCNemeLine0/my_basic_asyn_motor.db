record(motor,"$(P)$(M)")
{
	field(DESC,"$(DESC)")
	field(DTYP,"$(DTYP)")
	field(DIR,"$(DIR)")
	field(VELO,1)
	field(VBAS,1)
	field(ACCL,1)
	field(BDST,0)
	field(BVEL,0)
	field(BACC,0)
	field(FOFF,1)
	field(OFF,0)
	field(UEIP,1)
	field(RTRY,0)
	field(OUT,"@asyn($(PORT),$(ADDR))")
	field(MRES,"$(MRES)")
	field(PREC,"$(PREC)")
	field(EGU,"$(EGU)")
	field(DHLM,"$(DHLM)")
	field(DLLM,"$(DLLM)")
	field(INIT,"")
	field(TWV,"1")
}

# reset the motor and initialise position to 15 mm
record(ao,"$(P)$(M)_reset") {
    field(DESC, "resets motor $(M) to x (EGU)")
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn($(PORT),$(ADDR))CNMOTOR_RESET")
    field(OMSL, "closed_loop")
    field(PREC, "$(PREC)")
}

# Motor resolution for this axis
record(ao,"$(P)$(M)Resolution") {
    field(DESC, "$(M) resolution")
    field(DOL,  "$(P)$(M).MRES CP MS")
    field(OMSL, "closed_loop")
    field(DTYP, "asynFloat64")
    field(OUT,  "@asyn($(PORT),$(ADDR))MOTOR_REC_RESOLUTION")
    field(PREC, "$(PREC)")
}

# These are useful if you need to set the software limits 
# under the feet of the motor record.
#record(ao, "$(P)$(M)_HighLimit")
#{
#   field(PINI, "YES")
#   field(DTYP, "asynFloat64")
#   field(OUT,  "@asyn($(PORT),$(ADDR))MOTOR_HIGH_LIMIT")
#   field(VAL,  "0")
#   info(autosaveFields, "VAL")
#}

#record(ao, "$(P)$(M)_LowLimit")
#{
#   field(PINI, "YES")
#   field(DTYP, "asynFloat64")
#   field(OUT,  "@asyn($(PORT),$(ADDR))MOTOR_LOW_LIMIT")
#   field(VAL,  "0")
#   info(autosaveFields, "VAL")
#}